首先声明我知道代码很垃圾,勿喷谢谢并且没有使用数据库全程操作文件(完全现学现卖py的垃圾代码,也是第一次用django)  
(到后面纯纯是乱写的,最新版被我误删了,这个是添加了注册码之后未经测试的版本)  
(请使用python3,需要Django)  
  
###仅限Windows,使用防火墙规则阻止未登录玩家ip,必须启动防火墙才有效(理论上只要把代码执行方式改成Linux,防火墙目录改成iptables或者firewalld即可)  
!!!!需要管理员模式运行,否则banip模块无法正常修改防火墙规则!!!
  
#login模块:  
(修改\login\Pal\log_reg.py文件中的变量即可)  
使用网页注册登录  
  **注册:填写玩家steamid和密码即可  
  **登录:获取玩家ip,使steamid和获取ip绑定,并且写入文件  
  **获取登录信息:记录账号登录失败的ip,目的是为了防止有分流或者挂了加速器的玩家不知道自己的ip  
    
#banip模块:  
(修改\banip\banip.py中的变量即可)  
  **读取palguard反作弊模组的日志文件,检测到玩家登录则对比玩家在网页中登录的ip和steamid是否匹配  
  **如匹配则不做操作,否则使用防火墙屏蔽该次登录ip,并且记录该次登录信息  
  **正常情况下在玩家被防火墙屏蔽之后,检测到玩家掉线回从防火墙删除屏蔽,但是又概率bug无法删除需要手动删除规则  
    
可以多服同步,只需要开多个banip模块设置不同服务器的日志路径即可(使用同一个login模块即可共享账号登录),也可以做到跨服务器同步(使用samba服务共享文件夹,并将login模块和banip模块的文件路径设置成smb服务路径)  
  
不会在更新  
  
QQ群:768720628(只是游戏服务器群)  
